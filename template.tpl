___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "JSON Tag",
  "categories": ["ANALYTICS", "CONVERSIONS","MARKETING"],
  "brand": {
    "id": "floriangoetting",
    "displayName": "floriangoetting",
    "thumbnail": "data:image/jpeg;base64,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"
  },
  "description": "This Tag Template sends your events with the JSON Payload to the defined ssGTM Endpoint to be received from the JSON Client.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "GROUP",
    "name": "globalSettings",
    "displayName": "Global Settings",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "SELECT",
        "name": "globalConfig",
        "displayName": "Global Settings Configuration Variable",
        "macrosInSelect": true,
        "selectItems": [],
        "simpleValueType": true,
        "defaultValue": "select",
        "help": "Please select the JSON Tag Configuration Variable with the global configuration which should be used for all events."
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "eventSettings",
    "displayName": "Event Settings",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "TEXT",
        "name": "eventName",
        "displayName": "Event Name",
        "simpleValueType": true,
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "defaultValue": "page_view"
      },
      {
        "type": "SELECT",
        "name": "eventType",
        "displayName": "Event Type",
        "selectItems": [
          {
            "value": "view",
            "displayValue": "View"
          },
          {
            "value": "callback",
            "displayValue": "Callback"
          },
          {
            "value": "error",
            "displayValue": "Error"
          },
          {
            "value": "generic action",
            "displayValue": "Generic Action"
          },
          {
            "value": "impression",
            "displayValue": "Impression"
          },
          {
            "value": "non interaction",
            "displayValue": "Non Interaction"
          },
          {
            "value": "custom",
            "displayValue": "Custom"
          }
        ],
        "simpleValueType": true,
        "help": "Please select one of the predefined event types. This is used to group multiple events together in the reporting.",
        "defaultValue": "view"
      },
      {
        "type": "TEXT",
        "name": "customEventType",
        "displayName": "Custom Event Type",
        "simpleValueType": true,
        "help": "You can specify a custom Event Type here. The Event Type is intended to group multiple similar events in the reporting.",
        "enablingConditions": [
          {
            "paramName": "eventType",
            "paramValue": "custom",
            "type": "EQUALS"
          }
        ],
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ]
      },
      {
        "type": "RADIO",
        "name": "eventSendingMethod",
        "displayName": "Event Sending Method",
        "radioItems": [
          {
            "value": "fetch",
            "displayValue": "Fetch"
          },
          {
            "value": "sendBeacon",
            "displayValue": "Send Beacon"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "fetch",
        "help": "With the Event Sending Method you can define how the event requests should be sent to the server. The default Fetch Method should be fine for most cases but in case of an Exit Link Tracking you might want to consider the Send Beacon Method."
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "payloadSettings",
    "displayName": "Payload Settings",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "SIMPLE_TABLE",
        "name": "payloadData",
        "displayName": "Event Payload",
        "simpleTableColumns": [
          {
            "defaultValue": "",
            "displayName": "Payload Key",
            "name": "payloadKey",
            "type": "TEXT"
          },
          {
            "defaultValue": "",
            "displayName": "Payload Value",
            "name": "payloadValue",
            "type": "TEXT"
          }
        ]
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const logToConsole = require('logToConsole');
const Object = require('Object');
const JSON = require('JSON');
const injectScript = require('injectScript');
const callInWindow = require('callInWindow');
const copyFromDataLayer = require('copyFromDataLayer');
const getContainerVersion = require('getContainerVersion');
const makeTableMap = require('makeTableMap');
const containerVersion = getContainerVersion();

let eventData = {};

const isDebug = !!(containerVersion && (containerVersion.debugMode || containerVersion.previewMode));

const log = msg => {
  if( isDebug ) logToConsole('[JSON Tag]', msg);
};

const getGlobalConfiguration = () => {
  // Fail if invalid variable
  if (
    data.globalConfig !== 'select' &&
    data.globalConfig.type !== 'jsontag'
  ) {
    return false;
  }

  const config = data.globalConfig !== 'select' ? data.globalConfig : {};

  return config;
};

const globalConfig = getGlobalConfiguration();

const buildPayload = () => {
  //global payload data
  if(typeof globalConfig.globalPayloadData !== 'undefined'){
    const globalEventData = makeTableMap(globalConfig.globalPayloadData, 'payloadKey', 'payloadValue');
    eventData = globalEventData;
  }
  
  //event payload data
  if(typeof data.payloadData !== 'undefined'){
    const eventSpecificData = makeTableMap(data.payloadData, 'payloadKey', 'payloadValue');
    //if no global payload data is present, no loop is necessary
    if(Object.keys(eventData).length === 0){
      eventData = eventSpecificData;
    } else {
      Object.keys(eventSpecificData).forEach(function(key) {
        eventData[key] = eventSpecificData[key];
      });
    }
  }
  
  //set event name and event type
  eventData.event_name = data.eventName;
  eventData.event_type = data.eventType == 'custom' ? data.customEventType : data.eventType;
  
  return eventData;
};

const responseDataInDl = () => {
  const device_id = copyFromDataLayer('jsonclient.device_id');
  const session_id = copyFromDataLayer('jsonclient.session_id');
  const tags = copyFromDataLayer('jsonclient.tags');
  if(typeof device_id === 'undefined' && typeof session_id === 'undefined' && typeof tags === 'undefined'){
    return false;
  }
  
  return true;
};

const sendRequest = () => {
  const url = globalConfig.endpointHostname + globalConfig.endpointPath;
  const payload = buildPayload();
  const dataLayerOptions = {
    'responseInDataLayer': responseDataInDl(),
    'dataLayerName': globalConfig.dataLayerName,
    'dataLayerEventName': globalConfig.dataLayerEventName
  };
  
  const result = callInWindow(
    'jsonTagSendData',
    url,
    payload,
    globalConfig.enableGzip,
    globalConfig.pushResponseInDataLayer ? dataLayerOptions : false,
    data.eventSendingMethod,
    globalConfig.cleanPayload
  );

  data.gtmOnSuccess();
};

var libraryUrl = null;
//inject JSON Tag Library if Library Host is set to jsDelivr or Self-hosted
if (globalConfig.libraryHost === 'jsDelivr') {
  libraryUrl = 'https://cdn.jsdelivr.net/gh/floriangoetting/json-tag@' + globalConfig.libraryVersion + '/dist/jsonTagSendData-min.js';
} else if (globalConfig.libraryHost === 'selfHosted') {
  libraryUrl = globalConfig.libraryUrl;
}

if (libraryUrl) {
  injectScript(libraryUrl, sendRequest, data.gtmOnFailure, 'jsonTagLibrary');
} else {
  //if hosting is set to none, just send the request without any script injections
  sendRequest();
}


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "jsonTagSendData"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_container_data",
        "versionId": "1"
      },
      "param": []
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_data_layer",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedKeys",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://cdn.jsdelivr.net/gh/floriangoetting/json-tag*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 3.2.2025, 13:12:34


